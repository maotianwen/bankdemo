(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["gold"],{3910:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fund add-padding-bottom"},[a("Header",{attrs:{needBack:!0,title:"基金详情"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.lineData.length,expression:"lineData.length"}],staticClass:"fund-title"},[a("p",[t._v(t._s(this.goldData.name))]),a("div",{staticClass:"type-wrapper"},[a("span",{staticClass:"fund-code nums"},[t._v(t._s(this.goldData.code))]),a("span",{staticClass:"mix-type"},[t._v(t._s(this.goldData.type))]),a("span",{staticClass:"low-risk"},[t._v("低风险型")])])]),t.lineData.length?a("div",{staticClass:"data-bar"},[a("div",[a("p",{staticClass:"data-value",class:this.goldData.dayGrowth>0?"red-num":"green-num"},[t._v(" "+t._s(this.goldData.dayGrowth)+"% ")]),a("p",{staticClass:"data-key"},[t._v("日涨跌幅")])]),a("div",{staticClass:"year-growth"},[a("p",{staticClass:"data-value",class:this.goldData.lastYearGrowth>0?"red-num":"green-num"},[a("CountNum",{staticClass:"data-value",attrs:{endNum:Number(this.goldData.lastYearGrowth),isPercentage:!0,step:2.21,decimalPlace:2}})],1),a("p",{staticClass:"data-key"},[t._v("近一年收益率")])]),a("div",{staticClass:"latest-netWorth"},[a("p",{staticClass:"data-value"},[t._v(t._s(this.goldData.netWorth))]),a("p",{staticClass:"data-key"},[t._v("最新净值")])])]):t._e(),a("LineChart",{attrs:{lineData:t.lineData,timeInterval:t.timeIndex}}),t.lineData.length?a("div",{staticClass:"time-slide"},[t._l(t.timeIndexArr,(function(e,s){return a("div",{key:e.index,staticClass:"slide-item",class:s===t.modalIndex&&"white-font",on:{click:function(a){return t.changeTimeIndex(e.index,s)}}},[t._v(" "+t._s(e.text)+" ")])})),a("div",{staticClass:"modal",style:{transform:"translateX("+100*t.modalIndex+"%)"}})],2):t._e(),t.lineData.length?a("div",{staticClass:"fund-detail"},[a("p",{staticClass:"fund-document"},[t._v("基金档案")]),a("p",{staticClass:"buy-min"},[a("svg-icon",{attrs:{iconClass:"first-buy"}}),t._v(" 首次购买"+t._s((this.goldData.buyMin/100).toFixed(2))+"元起 ")],1),a("p",[a("svg-icon",{attrs:{iconClass:"low-risk"}}),t._v(" 较低风险，投资策略稳健 ")],1),a("p",[a("svg-icon",{attrs:{iconClass:"fund-scale"}}),t._v(" 基金规模"+t._s(this.goldData.fundScale)+" ")],1)]):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.lineData.length,expression:"lineData.length"}],staticClass:"transaction-rule"},[a("p",{staticClass:"fund-document"},[t._v("交易规则")]),a("BuySteps")],1),t.lineData.length?a("div",{staticClass:"fund-footer"},[a("div",{staticClass:"subscribe flex-item",on:{click:function(e){t.hasStarred=!t.hasStarred}}},[a("transition",{attrs:{name:"boom"}},[a("svg-icon",{directives:[{name:"show",rawName:"v-show",value:t.hasStarred,expression:"hasStarred"}],attrs:{iconClass:"paint-star",className:"paint-star"}})],1),a("svg-icon",{attrs:{iconClass:"star"}}),a("p",[t._v("关注")])],1),a("div",{staticClass:"consult flex-item"},[a("svg-icon",{attrs:{iconClass:"consult"}}),t._v(" 咨询 ")],1),a("div",{staticClass:"invest flex-item btn"},[t._v("定投")]),a("div",{staticClass:"buy flex-item btn"},[t._v("购买")])]):t._e()],1)},i=[],n=(a("fb6a"),a("96cf"),a("1da1")),r=a("5530"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chartWrapper"},[t.lineData.length?a("ECharts",{ref:"mychart",attrs:{options:t.lineOptions}}):t._e(),a("div",{staticClass:"time-wrapper"},[a("span",{staticClass:"min-time"},[t._v(t._s(t.minTime))]),a("span",{staticClass:"max-time"},[t._v(t._s(t.maxTime))])])],1)},l=[],c=(a("99af"),a("d81d"),a("b680"),a("9ca8")),d=(a("ef97"),a("007d"),{name:"LineChart",components:{ECharts:c["a"]},mounted:function(){},watch:{lineData:function(){this.lineOptions.xAxis[0].data=this.lineData.map((function(t){return t[0]})),this.lineOptions.series[0].data=this.lineData.map((function(t){return t[1]}));var t=this.lineData.length;this.minTime=this.lineOptions.xAxis[0].data[0].replaceAll("-","/"),this.maxTime=this.lineOptions.xAxis[0].data[t-1].replaceAll("-","/")}},data:function(){return{lineOptions:{tooltip:{trigger:"axis",borderColor:"#0066B3",borderWidth:1,textStyle:{color:"#000000"},backgroundColor:"#ffffff",extraCssText:"box-shadow: 0px 0px 4px 1px #86a2ef;",padding:[4,8],show:!0,position:[0,0],formatter:function(t){var e=t[0].value,a=t[0].axisValue;return'<div style="text-align:left;letter-spacing:1px;">日期:<span style="color:#9b9b9b;font-weight:bold" class="nums">'.concat(a,'</span>&nbsp;&nbsp;&nbsp;单位净值:<span style="color:#0066b3;font-weight:bold" class="nums">').concat(e,"</span><div/>")}},xAxis:[{data:[],axisTick:{show:!1},axisLabel:{show:!1},axisPointer:{type:"line",axis:"auto",z:2,lineStyle:{color:"#ffffff",width:1}}}],yAxis:[{min:function(t){return t.min-.044},max:function(t){return t.max+.035},splitLine:{show:!1},axisLabel:{interval:0,showMinLabel:!1,formatter:function(t){return t.toFixed(3)}}}],grid:[{left:"12%",bottom:"2%",tooltip:{show:!0}}],series:[{type:"line",showSymbol:!1,smooth:!0,lineStyle:{color:"#fff"},itemStyle:{color:"#0066b3",shadowColor:"#0066B3",shadowBlur:6},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1.2,colorStops:[{offset:0,color:"#0066b3"},{offset:1,color:"#ffffff"}],global:!1}},data:[]}]},minTime:"",maxTime:""}},props:{lineData:{type:Array,default:function(){return[]}}}}),u=d,h=(a("96de"),a("2877")),m=Object(h["a"])(u,o,l,!1,null,"08bb8ae2",null),f=m.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t._v(t._s(t.finalNum))])},x=[],v=(a("a9e3"),{name:"CountNum",data:function(){return{num:0,rfa:null,maxNum:0,finalNum:""}},mounted:function(){this.num=this.startNum,this.maxNum=this.endNum,this.triggerRfa()},props:{startNum:{type:Number,default:0},endNum:{type:Number,default:0},step:{type:Number,default:1},decimalPlace:{type:Number,default:0},isPercentage:{type:Boolean,default:!1}},methods:{triggerRfa:function(){if(this.num>=this.maxNum)return this.num=this.maxNum,this.finalNum=this.isPercentage?this.num.toFixed(this.decimalPlace)+"%":this.num.toFixed(this.decimalPlace),void cancelAnimationFrame(this.rfa);this.num+=this.step,this.finalNum=this.isPercentage?this.num.toFixed(this.decimalPlace)+"%":this.num.toFixed(this.decimalPlace),this.rfa=requestAnimationFrame(this.triggerRfa)}}}),g=v,b=Object(h["a"])(g,p,x,!1,null,"dee9baba",null),_=b.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"steps"},[t._l(t.buySteps,(function(e){return a("section",{key:e.id,staticClass:"step-item",class:"item"+e.id},[a("p",[t._v(t._s(e.topText))]),a("i",{staticClass:"circle",class:"circle"+e.id}),a("p",[t._v(t._s(e.bottomText))])])})),a("div",{staticClass:"line"})],2)},C=[],D={name:"BuySteps",data:function(){return{buySteps:[{topText:"购买",bottomText:"现在买入",id:0},{topText:"确认份额",bottomText:"",id:1},{topText:"购买",bottomText:"",id:2}]}},mounted:function(){var t=6912e5,e=Date.now()+t,a=new Date(e).getMonth()+1,s=new Date(e).getDate()+1,i=a<10?"0".concat(a):"".concat(a),n=s<10?"0".concat(s):"".concat(s),r="".concat(i,"-").concat(n);this.buySteps[1].bottomText=r,this.buySteps[2].bottomText=r}},y=D,N=(a("859a"),Object(h["a"])(y,w,C,!1,null,"96d1fade",null)),I=N.exports,S=a("2f62"),T={name:"Gold",components:{LineChart:f,CountNum:_,BuySteps:I},mounted:function(){this.getFundDetail(this.$route.params.id)},computed:{},data:function(){return{goldData:{code:"",name:"",manager:"",netWorth:0,expectWorthDate:"2020/09/08",expectGrowth:"0.29%",type:"",buyMin:0,lastWeekGrowth:0,lastMonthGrowth:0,lastThreeMonthsGrowth:0,lastSixMonthsGrowth:0,lastYearGrowth:0,sevenDaysYearIncome:0,dayGrowth:0,netWorthDate:"",netWorthData:[]},timeIndex:1,modalIndex:0,hasStarred:!1,timeIndexArr:[{text:"近1个月",index:1},{text:"近3个月",index:3},{text:"近6个月",index:6},{text:"近1年",index:12}],lineData:[]}},watch:{timeIndex:function(t){if(this.goldData.netWorthData.length)switch(t){case 1:this.lineData=this.goldData.netWorthData.slice(-24);break;case 3:this.lineData=this.goldData.netWorthData.slice(-62);break;case 6:this.lineData=this.goldData.netWorthData.slice(-122);break;case 12:this.lineData=this.goldData.netWorthData.slice(-245);break;default:console.log("no data")}}},methods:Object(r["a"])(Object(r["a"])({},Object(S["b"])(["showErrorAlert"])),{},{getFundDetail:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.$store.commit("showLoading"),a.prev=1,a.next=4,e.$api.getFundDetail(t);case 4:s=a.sent,e.goldData=Object.assign({},e.goldData,s.data.data),e.lineData=e.goldData.netWorthData.slice(-24),e.$store.commit("hideLoading"),a.next=15;break;case 10:a.prev=10,a.t0=a["catch"](1),console.error(a.t0),e.$store.commit("hideLoading"),e.showErrorAlert("未能成功获取基金数据");case 15:case"end":return a.stop()}}),a,null,[[1,10]])})))()},changeTimeIndex:function(t,e){this.timeIndex=t,this.modalIndex=e}})},A=T,k=(a("45c8"),Object(h["a"])(A,s,i,!1,null,"3862f2c6",null));e["default"]=k.exports},"45c8":function(t,e,a){"use strict";var s=a("d703"),i=a.n(s);i.a},"460f":function(t,e,a){},"4e35":function(t,e,a){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var s=a("1d80"),i=a("5899"),n="["+i+"]",r=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),l=function(t){return function(e){var a=String(s(e));return 1&t&&(a=a.replace(r,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:l(1),end:l(2),trim:l(3)}},"859a":function(t,e,a){"use strict";var s=a("4e35"),i=a.n(s);i.a},"96de":function(t,e,a){"use strict";var s=a("460f"),i=a.n(s);i.a},a9e3:function(t,e,a){"use strict";var s=a("83ab"),i=a("da84"),n=a("94ca"),r=a("6eeb"),o=a("5135"),l=a("c6b6"),c=a("7156"),d=a("c04e"),u=a("d039"),h=a("7c73"),m=a("241c").f,f=a("06cf").f,p=a("9bf2").f,x=a("58a8").trim,v="Number",g=i[v],b=g.prototype,_=l(h(b))==v,w=function(t){var e,a,s,i,n,r,o,l,c=d(t,!1);if("string"==typeof c&&c.length>2)if(c=x(c),e=c.charCodeAt(0),43===e||45===e){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:s=2,i=49;break;case 79:case 111:s=8,i=55;break;default:return+c}for(n=c.slice(2),r=n.length,o=0;o<r;o++)if(l=n.charCodeAt(o),l<48||l>i)return NaN;return parseInt(n,s)}return+c};if(n(v,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var C,D=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof D&&(_?u((function(){b.valueOf.call(a)})):l(a)!=v)?c(new g(w(e)),a,D):w(e)},y=s?m(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;y.length>N;N++)o(g,C=y[N])&&!o(D,C)&&p(D,C,f(g,C));D.prototype=b,b.constructor=D,r(i,v,D)}},d703:function(t,e,a){}}]);
//# sourceMappingURL=gold.d394d716.js.map